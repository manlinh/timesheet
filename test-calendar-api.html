<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“¡ æ¸¬è©¦ Calendar API</title>
</head>
<body>
  <h2>ğŸ“¤ æ¸¬è©¦ Calendar API å¯«å…¥</h2>
  <button onclick="sendTest()">ğŸš€ å‚³é€æ¸¬è©¦è³‡æ–™</button>
  <pre id="output" style="margin-top:1em;background:#eee;padding:1em;"></pre>

  <script>
    async function sendTest() {
      const output = document.getElementById("output");

      const body = {
        calendar: {
          "2025-07-20": [{ user: "æ¸¬è©¦è€…", subject: "è¡Œç¨‹æ¸¬è©¦", time: "10:00 - 11:00" }]
        },
        log: [
          {
            date: "2025-07-20",
            user: "æ¸¬è©¦è€…",
            subject: "è¡Œç¨‹æ¸¬è©¦",
            time: "10:00 - 11:00",
            action: "æ–°å¢",
            timestamp: Math.floor(Date.now() / 1000)
          }
        ]
      };

      try {
        const res = await fetch("https://calendar-api-jet.vercel.app/api/update-calendar", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body)
        });

        const text = await res.text();
        output.textContent = `ğŸ“¡ å›æ‡‰ç‹€æ…‹ï¼š${res.status}\n------\n${text}`;
      } catch (err) {
        output.textContent = `âŒ ç™¼ç”ŸéŒ¯èª¤\n${err}`;
      }
    }
  </script>
</body>
</html>
