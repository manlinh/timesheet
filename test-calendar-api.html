<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ“¤ æ¸¬è©¦ Calendar API å¯«å…¥</title>
</head>
<body>
  <h2>ğŸ“¤ æ¸¬è©¦ Calendar API å¯«å…¥</h2>

  <button onclick="sendTest()">ğŸš€ å‚³é€æ¸¬è©¦è³‡æ–™</button>

  <pre id="output" style="margin-top:1em;background:#f0f0f0;padding:1em;"></pre>

  <script>
    async function sendTest() {
      const output = document.getElementById("output");

      const testData = {
        calendar: {
          "2025-07-21": [
            {
              user: "æ¸¬è©¦è€…",
              subject: "æ¸¬è©¦å¯«å…¥",
              time: "14:00 - 15:00"
            }
          ]
        },
        log: [
          {
            date: "2025-07-21",
            user: "æ¸¬è©¦è€…",
            subject: "æ¸¬è©¦å¯«å…¥",
            time: "14:00 - 15:00",
            action: "æ–°å¢",
            timestamp: Math.floor(Date.now() / 1000)
          }
        ]
      };

      try {
        const res = await fetch("https://calendar-api-jet.vercel.app/api/update-calendar", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(testData)
        });

        const text = await res.text();
        output.textContent = `ğŸ“¡ ç‹€æ…‹ç¢¼ï¼š${res.status}\n------\n${text}`;

        if (res.ok) {
          alert("âœ… å¯«å…¥æˆåŠŸï¼");
        } else {
          alert("âŒ å¯«å…¥å¤±æ•—ï¼");
        }
      } catch (e) {
        output.textContent = `âŒ ç™¼ç”Ÿä¾‹å¤–éŒ¯èª¤ï¼š\n${e}`;
        alert("âš ï¸ ç¶²è·¯æˆ–ä¼ºæœå™¨éŒ¯èª¤");
      }
    }
  </script>
</body>
</html>
