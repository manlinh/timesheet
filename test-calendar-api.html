<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“¡ æ¸¬è©¦ Calendar API</title>
</head>
<body>
  <h2>ğŸ“¤ æ¸¬è©¦ Calendar API å¯«å…¥</h2>
  <button onclick="sendTest()">ğŸš€ å‚³é€æ¸¬è©¦è³‡æ–™</button>
  <pre id="output" style="margin-top:1em;background:#eee;padding:1em;"></pre>

<script>
async function sendTest() {
  const output = document.getElementById("output");
  const body = {
    calendar: {
      "2025-07-22": [{ user: "Tester", subject: "TestEvent", time: "12:00 - 13:00" }]
    },
    log: [{
      date: "2025-07-22",
      user: "Tester",
      subject: "TestEvent",
      time: "12:00 - 13:00",
      action: "æ–°å¢",
      timestamp: Math.floor(Date.now() / 1000)
    }]
  };

  try {
    const res = await fetch("https://calendar-api-jet.vercel.app/api/update-calendar", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body)
    });
    const contentType = res.headers.get("content-type") || "";
    const text = await res.text();
    output.textContent = `ğŸ”¹_status: ${res.status}
ğŸ”¹_content-type: ${contentType}
ğŸ”¹_body: ${text}`;
  } catch (err) {
    output.textContent = `âŒ Error: ${err}`;
  }
}
</script>
</body>
</html>
